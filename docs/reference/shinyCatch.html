<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Catch  error, warning, message text — shinyCatch • systemPipeShiny</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Catch  error, warning, message text — shinyCatch" />
<meta property="og:description" content="Catch error, warning, message by a toastr bar on shiny front end
also log the text on backend console. Will return original value if not
blocking at &quot;warning&quot; &quot;message&quot; level, and return NULL at error level.
If blocks at error, function will be stopped and other code in the same
reactive context will be blocked. If blocks at warning level, warning and
error will be blocked; message level blocks all 3 levels. The blocking works
similar to shiny's req() and validate(). If anything inside fails, it will
block the rest of the code in your reactive expression domain" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">systemPipeShiny</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.99.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a></a>
</li>
<li>
  <a href="../articles/systemPipeShiny.html">Get started</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/systemPipeR/systemPipeShiny">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Catch  error, warning, message text</h1>
    <small class="dont-index">Source: <a href='https://github.com/systemPipeR/systemPipeShiny/blob/master/R/spsServerCollections.R'><code>R/spsServerCollections.R</code></a></small>
    <div class="hidden name"><code>shinyCatch.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Catch error, warning, message by a toastr bar on shiny front end
also log the text on backend console. Will return original value if not
blocking at "warning" "message" level, and return <code>NULL</code> at error level.
If blocks at <code>error</code>, function will be stopped and other code in the same
reactive context will be blocked. If blocks at <code>warning</code> level, warning and
error will be blocked; <code>message</code> level blocks all 3 levels. The blocking works
similar to shiny's <code>req()</code> and <code>validate()</code>. If anything inside fails, it will
block the rest of the code in your reactive expression domain</p>
    </div>

    <pre class="usage"><span class='fu'>shinyCatch</span>(
  <span class='no'>expr</span>,
  <span class='kw'>position</span> <span class='kw'>=</span> <span class='st'>"bottom-right"</span>,
  <span class='kw'>blocking_level</span> <span class='kw'>=</span> <span class='st'>"none"</span>,
  <span class='kw'>shiny</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>expr</th>
      <td><p>expression</p></td>
    </tr>
    <tr>
      <th>position</th>
      <td><p>toastr position, one of: c("top-right", "top-center", "top-left",
"top-full-width", "bottom-right", "bottom-center", "bottom-left",
"bottom-full-width")</p></td>
    </tr>
    <tr>
      <th>blocking_level</th>
      <td><p>what level you want to block the execution, one
of "error", "warning", "message"</p></td>
    </tr>
    <tr>
      <th>shiny</th>
      <td><p>bool, It is also possible to use without a shiny session. Only
shows on console log, works very similar as <code>tryCatch</code> and can block at
multiple levels</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>see description</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span>(<span class='fu'><a href='https://rdrr.io/r/base/interactive.html'>interactive</a></span>()){
    <span class='no'>ui</span> <span class='kw'>&lt;-</span> <span class='fu'>fluidPage</span>(
        <span class='fu'>useToastr</span>(),
        <span class='fu'>actionButton</span>(<span class='st'>"btn1"</span>,<span class='st'>"error and blocking"</span>),
        <span class='fu'>actionButton</span>(<span class='st'>"btn2"</span>,<span class='st'>"error no blocking"</span>),
        <span class='fu'>actionButton</span>(<span class='st'>"btn3"</span>,<span class='st'>"warning but still returns value"</span>),
        <span class='fu'>actionButton</span>(<span class='st'>"btn4"</span>,<span class='st'>"warning but blocking returns"</span>),
        <span class='fu'>actionButton</span>(<span class='st'>"btn5"</span>,<span class='st'>"message"</span>),

        <span class='fu'>textOutput</span>(<span class='st'>"text"</span>)
    )
    <span class='no'>server</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>(<span class='no'>input</span>, <span class='no'>output</span>, <span class='no'>session</span>) {
        <span class='no'>fn_warning</span> <span class='kw'>&lt;-</span> <span class='kw'>function</span>() {
            <span class='fu'><a href='https://rdrr.io/r/base/warning.html'>warning</a></span>(<span class='st'>"this is a warning!"</span>)
            <span class='fu'><a href='https://rdrr.io/r/base/function.html'>return</a></span>(<span class='fl'>1</span>)
        }
        <span class='fu'>observeEvent</span>(<span class='no'>input</span>$<span class='no'>btn1</span>, {
            <span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"error with blocking"</span>), <span class='kw'>blocking_level</span> <span class='kw'>=</span> <span class='st'>"error"</span>)
            <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='st'>"You shouldn't see me"</span>)
        })
        <span class='fu'>observeEvent</span>(<span class='no'>input</span>$<span class='no'>btn2</span>, {
            <span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"error without blocking"</span>))
            <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='st'>"I am not blocked by error"</span>)
        })
        <span class='fu'>observeEvent</span>(<span class='no'>input</span>$<span class='no'>btn3</span>, {
            <span class='no'>return_value</span> <span class='kw'>&lt;-</span> <span class='fu'>shinyCatch</span>(<span class='fu'>fn_warning</span>())
            <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>return_value</span>)
        })
        <span class='fu'>observeEvent</span>(<span class='no'>input</span>$<span class='no'>btn4</span>, {
            <span class='no'>return_value</span> <span class='kw'>&lt;-</span> <span class='fu'>shinyCatch</span>(<span class='fu'>fn_warning</span>(), <span class='kw'>blocking_level</span> <span class='kw'>=</span> <span class='st'>"warning"</span>)
            <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='no'>return_value</span>)
            <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span>(<span class='st'>"other things"</span>)
        })
        <span class='fu'>observeEvent</span>(<span class='no'>input</span>$<span class='no'>btn5</span>, {
            <span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span>(<span class='st'>"message"</span>))
        })
    }
    <span class='fu'>shinyApp</span>(<span class='no'>ui</span>, <span class='no'>server</span>)
}
<span class='co'>#outside shiny examples</span>
<span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/message.html'>message</a></span>(<span class='st'>"this message"</span>), <span class='kw'>shiny</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)</div><div class='output co'>#&gt; <span style='color: #0000BB;font-weight: bold;'>[SPS-INFO] 2020-08-10 16:04:24 this message
#&gt; </span><span></div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>({<span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"this error"</span>), <span class='kw'>shiny</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>); <span class='st'>"no block"</span>}, <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; </span><span style='color: #BB0000;font-weight: bold;'>[SPS-ERROR] 2020-08-10 16:04:24 this error</span><span></div><div class='output co'>#&gt; [1] "no block"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/try.html'>try</a></span>({<span class='fu'>shinyCatch</span>(<span class='fu'><a href='https://rdrr.io/r/base/stop.html'>stop</a></span>(<span class='st'>"this error"</span>), <span class='kw'>shiny</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>blocking_level</span> <span class='kw'>=</span> <span class='st'>"error"</span>)
    <span class='st'>"blocked"</span>},
    <span class='kw'>silent</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; </span><span style='color: #BB0000;font-weight: bold;'>[SPS-ERROR] 2020-08-10 16:04:24 this error</span><span></div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Le Zhang, <a href='https://www.dcassol.com/'>Daniela Cassol</a>, <a href='http://girke.bioinformatics.ucr.edu/'>Ponmathi Ramasamy</a>, Jianhai Zhang, Gordon Mosher, <a href='http://girke.bioinformatics.ucr.edu/'>Thomas Girke</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '',
    indexName: '',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


